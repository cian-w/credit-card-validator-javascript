<html>

<head>Credit Card Validator</head>
<script>

function checkcc()
{
num = document.getElementById("creditcardfield").value
if (creditcardgood(num))
	{
	document.getElementById("creditcardfield").style.background="#00ff00";
	}
else
	{
	document.getElementById("creditcardfield").style.background="#ff6666";
	}
}

function checkcc()
{
num = document.getElementById("creditcardfield").value
if (creditcardgood(num))
	{
	document.getElementById("creditcardfield").style.background="#00ff00";
	}
else
	{
	document.getElementById("creditcardfield").style.background="#ff6666";
	}
}



function creditcardgood(cc)
	{

		//Declare variables
		var totalmultiples = 0;
		var totalsingles   = 0;
		var cardtotal      = 0;

		//set valid to true
		var valid = new Boolean(true);

		//Check if empty or not correct length
		if (cc == '' || cc == null)
			valid = false;

		if (cc.length != 16)
			valid = false;

			//Loop through card number and mulitply every 2nd character by 2
			for(i = 0; i < cc.length; i+=2)
				{
				digit = parseInt(cc.charAt(i));
				digit = digit * 2;

				//Minus nine if result is great than nine
				if (digit > 9)
					{
					digit = digit - 9;
					}

					totalmultiples = totalmultiples + digit;

				}

			//Get every 2nd digit starting from index one and add together
			for(n = 1; n < cc.length; n+=2)
				{
				single = parseInt(cc.charAt(n));

				totalsingles = totalsingles + single;

				}

			//Add multiples and singles
			cardtotal = totalmultiples + totalsingles;


			//Divide the total by 10
			goodcard = (cardtotal % 10);

			if (goodcard != 0)
				valid = false;


			return valid;
	}
	</script>

	<body>



  Credit Card: <input type="text" id="creditcardfield" value="4499228308017422" /> <button type="button" onclick="checkcc()">Check</button>
  <br/><br/>
</body>
</html>
