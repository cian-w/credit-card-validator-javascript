<html>
<head>
<meta charset="utf-8">
<title>INSEE Checker</title>
<script type="text/javascript">

////////////UPLOADED Your code goes below this line here  /////////
function creditcardgood(cc)
	{
	
		//Declare variables
		var totalmultiples = 0;
		var totalsingles   = 0;
		var cardtotal      = 0;
		
		//set valid to true
		var valid = new Boolean(true);
			
		//Check if empty or not correct length	
		if (cc == '' || cc == null) 
			valid = false;
			
		if (cc.length != 16) 
			valid = false;
			
			//Loop through card number and mulitply every 2nd character by 2
			for(i = 0; i < cc.length; i+=2) 
				{
				digit = parseInt(cc.charAt(i));
				digit = digit * 2;
				
				//Minus nine if result is great than nine
				if (digit > 9) 
					{
					digit = digit - 9;
					}
			
					totalmultiples = totalmultiples + digit;
				
				}
			
			//Get every 2nd digit starting from index one and add together
			for(n = 1; n < cc.length; n+=2) 
				{
				single = parseInt(cc.charAt(n));
				
				totalsingles = totalsingles + single;
				
				}
			
			//Add multiples and singles
			cardtotal = totalmultiples + totalsingles;
			
			
			//Divide the total by 10
			goodcard = (cardtotal % 10);
			
			if (goodcard != 0)
				valid = false;
					
					
			return valid;
	}
		

function eangood(ean)
	{
		//Declare variables
		var eantotal  = 0;
		var notmultiples = 0;
		var multiples = 0;
		
		//set valid to true
		var valid = new Boolean(true);
			
		//Check if empty or incorrect length	
		if (ean == '' || ean == null) 
			valid = false;
			
		if (ean.length != 13) 
			valid = false;
			
		
			
		//Add all the odd digits together
		for(i = 0; i < ean.length; i+=2) 
			{
			odds = parseInt(ean.charAt(i));
			notmultiples = notmultiples + odds;
			}
			
		//Loop and multiply every second digit by 3
		for(n = 1; n < ean.length; n+=2) 
			{
			evens = parseInt(ean.charAt(n));
			multiples = multiples + (evens*3);
			}
			
			
		eantotal = notmultiples + multiples;
			
		goodean = (eantotal % 10);
			
		if (goodean != 0)
			valid = false;
					
					
		return valid;
	}		
			

function isbngood(isbn)
{

		//Declare variables
		var total  = 0;
		var multiplier = 10;
		var lastChar;
		
		//set valid to true
		var valid = new Boolean(true);
			
		//Make sure field isn't empty
		if (isbn == '' || isbn == null) 
			valid = false;
			
		if (isbn.length != 10) 
			valid = false;
			
		//If last char is X set it to 10
		lastChar = isbn.charAt(9);
		if (lastChar == 'X')
		{
		lastChar = 10;
		}
		else
		{
		lastChar = isbn.charAt(9);
		}
			
			
			//Loop through number and multiply digits
			for(i = 0; i < isbn.length; i++) 
			{
				digit = parseInt(isbn.charAt(i));
				
				result = digit * multiplier;
				
				multiplier -= 1;
				
				total = total + result;
			}
			
			//Number mod 11
			goodisbn = (total % 11);
			
			//ISBN is valid if mod 11 is equal to zero
			if (goodisbn != 0)
				valid = false;
					
					
			return valid;
}


function peselgood(pesnum)
	{
		
		//Declare variables
		var one = 0;
		var totalOnes = 0;
		var three = 0;
		var totalThrees = 0;
		var threeMultiple = 0;
		var seven = 0;
		var totalSeven = 0;
		var sevenMultiple = 0;
		var nine = 0;
		var totalNine = 0;
		var nineMultiple = 0;
		var month;
		var checkPesMonth = 0;
	
		//set valid to true
		var valid = new Boolean(true);
		
		//Check if empty or incorrect length	
		if (pesnum == '' || pesnum == null) 
			valid = false;
			
		if (pesnum.length != 11) 
			valid = false;
		
		//Check month to make sure it makes sense
		month = parseInt(pesnum.slice(2,4));
		checkPesMonth = month % 20;
		if (checkPesMonth < 1 || checkPesMonth > 12)
			valid = false;
		
		
			//Loop through and add every fourth digit together starting at position 0
			for(i = 0; i < pesnum.length-1; i+=4) 
			{
				one = parseInt(pesnum.charAt(i));
				totalOnes = totalOnes + one;
			}
			
			//Loop through and multiply every fourth digit by 3 starting at position 1
			for(h = 1; h < pesnum.length-1; h+=4) 
			{
				three = parseInt(pesnum.charAt(h));
				
				threeMultiple = three * 3;
				
				totalThrees = totalThrees + threeMultiple;
			}
			
			//Loop through and multiply every fourth digit by 7 starting at position 2
			for(x = 2; x < pesnum.length-1; x+=4) 
			{
				seven = parseInt(pesnum.charAt(x));
				
				sevenMultiple = seven * 7;
				
				totalSeven = totalSeven + sevenMultiple;
			}
			
			//Loop through and multiply every fourth digit by 9 starting at position 3
			for(w = 3; w < pesnum.length-1; w+=4) 
				{
				nine = parseInt(pesnum.charAt(w));
				
				nineMultiple = nine * 9;
				
				totalNine = totalNine + nineMultiple;
			}
			
			//Get checksum value
			checksum = parseInt(pesnum.charAt(10));
			
			
			//Add totals
			finalTotal = totalOnes + totalThrees + totalSeven + totalNine + checksum;
			
			//Total mod 10 should equal 0 in order to be valid
			peselResult = finalTotal % 10;
			
			if(peselResult != 0)
				valid = false;
				
			return valid;
	
				
	}

function henkilgood(henknum)
{
	//Declare Variables
	var checksumString = '0123456789ABCDEFHJKLMNPRSTUVWX';
	var character =0;
	var henkTotal = 0;
	var henkResult = 0;
	var henkValue;
	var checkValue;

	
	//Set valid to true
	var valid = new Boolean(true);
	
	//Check if empty or incorrect length	
		if (henknum == '' || henknum == null) 
			valid = false;
			
		if (henknum.length != 11) 
			valid = false;
	
	
	//Get checksum value
	checkValue = henknum.charAt(10);
	
	//Make sure check character is uppercase to match string
	checkValue  = checkValue.toUpperCase();
	
	//Remove symbol (either +,- or A) and check value from string
	henknum = henknum.slice(0, 6) + henknum.slice(7,10);
	
	//Make sure month is correct
	checkMonth1 = henknum.slice(2,3);
	checkMonth2 = henknum.slice(3,4);
	
	if (checkMonth1 + checkMonth2 > 12)
		valid = false;
		
	if (checkMonth1 < 1 && checkMonth2 > 1)
		valid = false;


	

		
	//Mod result by 31
	henkResult = henknum % 31;
	
	//Find value of henkResult in string
	henkValue  = checksumString.indexOf(checkValue);
	
	
	if (henkResult == henkValue)
		return valid;
}


function eurogood(euronum)
{
	//Setup variables
	var stringOne = '-ABCDEFGHIJKLMNOPQRSTUVWXYZ';
	var stringTwo = '-----------ABCDEFGHIJKLMNOPQRSTUVWXYZ';
	var firstLetter;
	var firstCharacter;
	var secondCharacter;
	var firstUpperOld;
	var firstUpper;
	var secondUpper;
	var firstValue;
	var secondValue;
	var current = 0;
	var value = 0;
	var euroOk = 0;
	
	//Set valid to true
	var valid = new Boolean(true);
	
	//Check if empty or incorrect length	
		if (euronum == '' || euronum == null) 
			valid = false;
			
		if (euronum.length != 12) 
			valid = false;
	
	/*In order to determine whether or not we need to use new or old
	version we must check if the second character is a letter or digit */
	firstCharacter = euronum.charAt(0);
	secondCharacter = euronum.charAt(1);
	
	if (secondCharacter >= 'A' && secondCharacter <= 'Z') 
	{
	//Make sure first and second characters are uppercase to match string
	firstUpper  = firstCharacter.toUpperCase();
	secondUpper = secondCharacter.toUpperCase();
	
	//Search string for this character
	firstValue  = stringOne.indexOf(firstUpper);
	secondValue = stringTwo.indexOf(secondUpper);
	
	
	value = firstValue + secondValue;
	
	//Loop through euronum and add digits together
	for(e = 2; e < euronum.length; e++) 
	{
		current = parseInt(euronum.charAt(e));
		value = value + current;
	}
	
	//Value mod 9 should equal 8 to be valid
	euroOk = value % 9;
	
	if (euroOk != 8) 
		valid = false;
	
		return valid;
	} 
	else 
	{

	//Get the first character of string entered by user
	firstLetter = euronum.charAt(0);

	//Make sure it is uppercase to match string
	firstUpperOld = firstLetter.toUpperCase();
	
	//Search string for this character
	firstValue = stringOne.indexOf(firstUpperOld);
	
	
	//Add position value to variable
	value += firstValue;
	
	//Loop through euronum and add digits together
	for(i = 1; i < euronum.length; i++) 
	{
		current = parseInt(euronum.charAt(i));
	
		value = value + current;	
	}
	

	//Value mod 9 should equal 8 to be valid
	euroOk = value % 9;
	
	if (euroOk != 8) 
		valid = false;
		
	return valid;
	
	}	
}




////// your code goes above this line   //////////
///// no need to change anything below this line !!//////



function checkean()
{
num = document.getElementById("eanfield").value
if (eangood(num))
	{
	document.getElementById("eanfield").style.background="#00ff00";
	}
else
	{
	document.getElementById("eanfield").style.background="#ff6666";
	}
}



function checkcc()
{
num = document.getElementById("creditcardfield").value
if (creditcardgood(num))
	{
	document.getElementById("creditcardfield").style.background="#00ff00";
	}
else
	{
	document.getElementById("creditcardfield").style.background="#ff6666";
	}
}
function checkeuro()
{
num = document.getElementById("eurofield").value
if (eurogood(num))
	{
	document.getElementById("eurofield").style.background="#00ff00";
	}
else
	{
	document.getElementById("eurofield").style.background="#ff6666";
	}
}

function checkpesel()
{
num = document.getElementById("peselfield").value
if (peselgood(num))
	{
	document.getElementById("peselfield").style.background="#00ff00";
	}
else
	{
	document.getElementById("peselfield").style.background="#ff6666";
	}
}


function checksotu()
{
num = document.getElementById("sotufield").value
if (henkilgood(num))
	{
	document.getElementById("sotufield").style.background="#00ff00";
	}
else
	{
	document.getElementById("sotufield").style.background="#ff6666";
	}
}

function checkisbn()
{
num = document.getElementById("isbnfield").value
if (isbngood(num))
	{
	document.getElementById("isbnfield").style.background="#00ff00";
	}
else
	{
	document.getElementById("isbnfield").style.background="#ff6666";
	}
}

</script>


</head>
<body>
<div>
Check Sum Template



<br/><br/>
<form name="form">

Credit Card: <input type="text" id="creditcardfield" value="4499228308017422" /> <button type="button" onclick="checkcc()">Check</button>
<br/><br/>

EAN: <input type="text" id="eanfield" value="5011073003503" /> <button type="button" onclick="checkean()">Check</button>
<br/><br/>

ISBN: <input type="text" id="isbnfield" value="1841593095" /> <button type="button" onclick="checkisbn()">Check</button>
<br/><br/>

Euro: <input type="text" id="eurofield" value="TC0835978889" /> <button type="button" onclick="checkeuro()">Check</button>
<br/><br/>

PESEL: <input type="text" id="peselfield" value="TC0835978889" /> <button type="button" onclick="checkpesel()">Check</button>
<br/><br/>
Henkil√∂tunnus: <input type="text" id="sotufield" value="TC0835978889" /> <button type="button" onclick="checksotu()">Check</button>
<br/><br/>
</form> 

</div>


<br/><br/>







</html>